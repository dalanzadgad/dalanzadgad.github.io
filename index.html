<!DOCTYPE html>
<html lang="en">
<head>
  <script src="js/phaser.min.js"></script>
  <meta name="viewport" content="width=device-width, user-scalable=no">
  <!-- Importing Javascripts -->
  <script type="text/javascript" src="js/fade.js"></script>
  <script type="text/javascript" src="js/scene.js"></script>
  <script type="text/javascript" src="js/firstroom.js"></script>
  <script type="text/javascript" src="js/campfire.js"></script>
  <script type="text/javascript" src="js/typewriter.js"></script>
  <script type="text/javascript" src="js/create.js"></script>

</head>
<body style="
  background-color:black;
  background-image:url('images/background.jpg');
  background-size:cover;
  background-position: center;
 ">
  <script>

  // Instanciating Typewriter object
  var typewriter = new Typewriter();
  var typingsound;
  h = window.screen.availHeight
  w = window.screen.availWidth
  console.log(w);
  console.log(h);


  if (w<h){
    console.log('vertical')

    w = w - 20;
    h = w*1.3;
  }
  else {
    w = h/1.3;
  }

  // Instanciating Phaser object
  game = new Phaser.Game(w, h, Phaser.CANVAS, 'body', { preload: preload,
    create: create, update: update });

    // Preload, create and update are the 3 main functions used by Phaser

    // Preloading media (fonts, images, roommaps, sounds)
    function preload() {
      this.game.scale.pageAlignHorizontally = true;
      this.game.scale.pageAlignVertically = true;
      this.game.scale.refresh();

      game.load.bitmapFont('ubuntu', 'rolling-thunder.png', 'rolling-thunder.xml');
      game.load.spritesheet('room', 'images/firstRoom.png', 500, 355, 13)
      game.load.image('roomMap', 'images/roomMap.png')
      game.load.spritesheet('campFire', 'images/campFire.png', 854, 480, 6)
      game.load.spritesheet('skyline', 'images/skyline.png', 500, 708, 31)
      game.load.image('window', 'images/window.png')

      game.load.spritesheet('snowy', 'images/snowy.png', 500, 340, 41)
      game.load.audio('fnaf', ['audio/fnaf.mp3']);
      game.load.audio('typingsound', ['audio/typingsound.mp3']);
      game.scenes = {};
      game.active = [];
    }

    // Checking the mouse regularly (in this case for the first room)
    function update(){
      for (var i=0; i<game.active.length;i++){
        game.scenes[game.active[i]].update();
      }
    }

  </script>
  <!-- Placed at the end of the document so the pages load faster -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
</body>
</html>
