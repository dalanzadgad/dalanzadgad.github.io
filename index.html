<!DOCTYPE html>
<html lang="en">
<head>
  <script src="js/phaser.min.js"></script>

  <!-- Importing Javascripts -->
  <script type="text/javascript" src="js/fade.js"></script>
  <script type="text/javascript" src="js/scene.js"></script>
  <script type="text/javascript" src="js/firstroom.js"></script>
  <script type="text/javascript" src="js/campfire.js"></script>
  <script type="text/javascript" src="js/typewriter.js"></script>
  <script type="text/javascript" src="js/create.js"></script>

</head>
<body>
  <script>

  // Instanciating Typewriter object
  var typewriter = new Typewriter();
  var typingsound;

  // Instanciating Phaser object
  game = new Phaser.Game(800, 600, Phaser.CANVAS, 'body', { preload: preload,
    create: create, update: update });

    // Preload, create and update are the 3 main functions sued by Phaser

    // Preloading media (fonts, images, roommaps, sounds)
    function preload() {
      game.load.bitmapFont('ubuntu', 'rolling-thunder.png', 'rolling-thunder.xml');
      game.load.spritesheet('room', 'images/firstRoom.png', 500, 355, 13)
      game.load.image('roomMap', 'images/roomMap.png')
      game.load.spritesheet('campFire', 'images/campFire.png', 854, 480, 6)
      game.load.spritesheet('skyline', 'images/skyline.png', 500, 708, 31)
      game.load.image('window', 'images/window.png')

      game.load.spritesheet('snowy', 'images/snowy.png', 500, 340, 41)
      game.load.audio('fnaf', ['audio/fnaf.mp3']);
      game.load.audio('typingsound', ['audio/typingsound.mp3']);
      game.scenes = {};
      game.active = [];
    }

    // Checking the mouse regularly (in this case for the first room)
    function update(){
      for (var i=0; i<game.active.length;i++){
        game.scenes[game.active[i]].update();
      }
    }

  </script>
  <!-- Placed at the end of the document so the pages load faster -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
</body>
</html>
